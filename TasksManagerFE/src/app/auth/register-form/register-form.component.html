<ng-container *ngIf="($user|async)!==null; then logged else notLogged"></ng-container>

<ng-template #logged><div>Sei già loggato!</div></ng-template>

<ng-template #notLogged>
<div class="col-md-12">
  <nb-card>
    <nb-card-header>
      <a class="mr-2" routerLink="/">
        <nb-icon icon="arrow-back-outline"></nb-icon>
      </a>
      <span>Registrati</span>
    </nb-card-header>
    <nb-card-body>
      <nb-alert *ngIf="errorMsg" status="danger" class="mb-3">
        {{errorMsg}}
      </nb-alert>
      <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)" class="auth-form">
        <div class="form-group">
          <label for="email" class="label">Email</label>
          <input type="text" nbInput fullWidth fieldSize="large" type="email" placeholder="Email" name="email" ngModel required email>
        </div>
        <div class="form-group">
          <label for="name" class="label">Nome</label>
          <input type="text" nbInput fullWidth fieldSize="large" type="text" placeholder="Nome" name="name" ngModel required>
        </div>
        <div class="form-group">
          <label for="password" class="label">Password</label>
          <input type="text" nbInput fullWidth fieldSize="large" type="password" placeholder="Password" name="password" ngModel required password>
        </div>
        <button nbButton status="primary" [disabled]="!loginForm.valid">Registrati</button>
        <div class="mt-3">
          <small>Hai già un account?
            <strong>
              <a class="swapMode" routerLink="/auth/login">
              Accedi
              </a>
          </strong>
        </small>
        </div>
      </form>
    </nb-card-body>
  </nb-card>
</div>
</ng-template>
